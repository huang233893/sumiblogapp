{"ast":null,"code":"export var VALUE_BYTES_LIMIT = 2048;\nexport function byteCountOverLimit(value, limit) {\n  var bytes = 0;\n  for (var i = 0; i < value.length; i++) {\n    var codePoint = value.charCodeAt(i);\n    if (codePoint >= 0xd800 && codePoint < 0xe000) {\n      if (codePoint < 0xdc00 && i + 1 < value.length) {\n        var next = value.charCodeAt(i + 1);\n        if (next >= 0xdc00 && next < 0xe000) {\n          bytes += 4;\n          if (bytes > limit) {\n            return true;\n          }\n          i++;\n          continue;\n        }\n      }\n    }\n    bytes += codePoint < 0x80 ? 1 : codePoint < 0x800 ? 2 : 3;\n    if (bytes > limit) {\n      return true;\n    }\n  }\n  return bytes > limit;\n}","map":{"version":3,"names":["VALUE_BYTES_LIMIT","byteCountOverLimit","value","limit","bytes","i","length","codePoint","charCodeAt","next"],"sources":["D:\\sumiblogapph5\\node_modules\\expo-secure-store\\src\\byteCounter.ts"],"sourcesContent":["export const VALUE_BYTES_LIMIT = 2048;\n\n// note this probably could be JS-engine dependent\n// inspired by https://stackoverflow.com/a/39488643\nexport function byteCountOverLimit(value: string, limit: number): boolean {\n  let bytes = 0;\n\n  for (let i = 0; i < value.length; i++) {\n    const codePoint = value.charCodeAt(i);\n\n    // Lone surrogates cannot be passed to encodeURI\n    if (codePoint >= 0xd800 && codePoint < 0xe000) {\n      if (codePoint < 0xdc00 && i + 1 < value.length) {\n        const next = value.charCodeAt(i + 1);\n\n        if (next >= 0xdc00 && next < 0xe000) {\n          bytes += 4;\n          if (bytes > limit) {\n            return true;\n          }\n          i++;\n          continue;\n        }\n      }\n    }\n\n    bytes += codePoint < 0x80 ? 1 : codePoint < 0x800 ? 2 : 3;\n    if (bytes > limit) {\n      return true;\n    }\n  }\n\n  return bytes > limit;\n}\n"],"mappings":"AAAA,OAAO,IAAMA,iBAAiB,GAAG,IAAI;AAIrC,OAAM,SAAUC,kBAAkBA,CAACC,KAAa,EAAEC,KAAa;EAC7D,IAAIC,KAAK,GAAG,CAAC;EAEb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;IACrC,IAAME,SAAS,GAAGL,KAAK,CAACM,UAAU,CAACH,CAAC,CAAC;IAGrC,IAAIE,SAAS,IAAI,MAAM,IAAIA,SAAS,GAAG,MAAM,EAAE;MAC7C,IAAIA,SAAS,GAAG,MAAM,IAAIF,CAAC,GAAG,CAAC,GAAGH,KAAK,CAACI,MAAM,EAAE;QAC9C,IAAMG,IAAI,GAAGP,KAAK,CAACM,UAAU,CAACH,CAAC,GAAG,CAAC,CAAC;QAEpC,IAAII,IAAI,IAAI,MAAM,IAAIA,IAAI,GAAG,MAAM,EAAE;UACnCL,KAAK,IAAI,CAAC;UACV,IAAIA,KAAK,GAAGD,KAAK,EAAE;YACjB,OAAO,IAAI;UACb;UACAE,CAAC,EAAE;UACH;QACF;MACF;IACF;IAEAD,KAAK,IAAIG,SAAS,GAAG,IAAI,GAAG,CAAC,GAAGA,SAAS,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC;IACzD,IAAIH,KAAK,GAAGD,KAAK,EAAE;MACjB,OAAO,IAAI;IACb;EACF;EAEA,OAAOC,KAAK,GAAGD,KAAK;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}